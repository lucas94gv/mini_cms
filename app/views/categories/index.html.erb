<h1>CATEGORÍAS</h1>

<div>
    <%= link_to "Nueva Categoría Padre", new_category_path %>
</div>

<% @categories.each do |category| %>
    <div data-controller="categories">
        <div>
            <%= category.name %>
            <%= link_to "Editar", edit_category_path(category) %>
            <%= link_to "Eliminar", category, :method => :delete, :data => { :confirm => 'Estás Seguro?' } %>
            <% if category.children.present? %>
                <span data-action="click->categories#toggle_childs">Mostrar hijas</span>
            <% end %>
        </div>
        
        <%= render(Categories::ShowChildsComponent.new(category: category)) if category.children.present? %>
    </div>
<% end %>